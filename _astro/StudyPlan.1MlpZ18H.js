import{v as x,c as z,b as h}from"./runtime-dom.esm-bundler.Brv_fg9F.js";import{u as B}from"./useLocalStorage.Hr3vxxp0.js";import{g as k,s as P}from"./storage.BTi9KS4P.js";/* empty css                            */import{_ as it}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as i,a as t,b,e as O,t as r,F as A,r as E,w as g,d as ut,g as ct,n as _,h as f,o as F,k as w,u as L,l as u}from"./runtime-core.esm-bundler.BZ9WtKOo.js";const gt={__name:"StudyPlan",props:{allQuestions:{type:Array,required:!0}},setup(T,{expose:e}){e();const j=T,{getItem:s,setItem:M}=B(),d=f({name:"",startDate:"",endDate:"",targetExamDate:"",goals:{subject1:{enabled:!0,targetScore:90,dailyQuestions:20,focusAreas:["交通法规","道路标志","安全驾驶"]},subject4:{enabled:!0,targetScore:90,dailyQuestions:15,focusAreas:["安全文明","应急处理","违法行为"]}},preferences:{studyTime:"morning",difficulty:"adaptive",reviewFrequency:3,breakInterval:30},status:"draft",createdAt:null,updatedAt:null}),o=f({}),m=f({subject1:{total:0,completed:0,correct:0},subject4:{total:0,completed:0,correct:0}}),W=f(1),D=f(!1),q=f([{id:"intensive",name:"冲刺计划",description:"适合考试临近，需要快速提升的学员",duration:14,subject1:{dailyQuestions:30,targetScore:95},subject4:{dailyQuestions:25,targetScore:95},features:["高强度练习","重点难题突破","模拟考试"]},{id:"steady",name:"稳步计划",description:"适合有充足时间，希望稳步提升的学员",duration:30,subject1:{dailyQuestions:20,targetScore:90},subject4:{dailyQuestions:15,targetScore:90},features:["循序渐进","知识点巩固","定期复习"]},{id:"relaxed",name:"轻松计划",description:"适合时间充裕，希望轻松学习的学员",duration:60,subject1:{dailyQuestions:15,targetScore:85},subject4:{dailyQuestions:10,targetScore:85},features:["低压学习","基础巩固","灵活安排"]}]);F(()=>{C(),Q(),V()});const C=()=>{const l=k("studyPlan",{},"学习计划");l&&Object.keys(l).length>0&&(d.value={...d.value,...l})},Q=()=>{o.value=k("dailyStudyRecords",{},"每日记录")},V=()=>{m.value=k("userProgress",{subject1:{total:0,completed:0,correct:0},subject4:{total:0,completed:0,correct:0}},"用户进度");const l=j.allQuestions.filter(n=>n.data.subject==="subject1"),a=j.allQuestions.filter(n=>n.data.subject==="subject4");m.value.subject1.total=l.length,m.value.subject4.total=a.length},v=()=>{d.value.updatedAt=new Date().toISOString(),P("studyPlan",d.value)},U=()=>{P("dailyStudyRecords",o.value)},H=()=>{P("userProgress",m.value)},N=w(()=>{if(!d.value.startDate||!d.value.endDate)return 0;const l=new Date(d.value.startDate),a=new Date(d.value.endDate),n=new Date;if(n<l)return 0;if(n>a)return 100;const y=a-l,p=n-l;return Math.round(p/y*100)}),R=w(()=>{if(!d.value.endDate)return 0;const n=new Date(d.value.endDate)-new Date;return Math.max(0,Math.ceil(n/(1e3*60*60*24)))}),G=w(()=>{const l=new Date().toISOString().split("T")[0],a=o.value[l]||{subject1:{completed:0,correct:0,target:d.value.goals.subject1.dailyQuestions},subject4:{completed:0,correct:0,target:d.value.goals.subject4.dailyQuestions}};return{subject1:{...a.subject1,progress:a.subject1.target>0?a.subject1.completed/a.subject1.target*100:0,accuracy:a.subject1.completed>0?a.subject1.correct/a.subject1.completed*100:0},subject4:{...a.subject4,progress:a.subject4.target>0?a.subject4.completed/a.subject4.target*100:0,accuracy:a.subject4.completed>0?a.subject4.correct/a.subject4.completed*100:0}}}),J=w(()=>{const l=Object.values(o.value);let a=0,n=0,y=0,p=0;const dt=new Date;for(let c=0;c<30;c++){const nt=new Date(dt.getTime()-c*24*60*60*1e3).toISOString().split("T")[0],S=o.value[nt];if(S&&(S.subject1.completed>0||S.subject4.completed>0))(c===0||p===c)&&(p=c+1);else if(c===0)break}return l.forEach(c=>{(c.subject1.completed>0||c.subject4.completed>0)&&a++,n+=c.subject1.completed+c.subject4.completed,y+=c.subject1.correct+c.subject4.correct}),{totalDays:a,totalQuestions:n,totalCorrect:y,streakDays:p,accuracy:n>0?(y/n*100).toFixed(1):0}}),K=l=>{const a=new Date,n=new Date(a.getTime()+l.duration*24*60*60*1e3);d.value={...d.value,name:l.name,startDate:a.toISOString().split("T")[0],endDate:n.toISOString().split("T")[0],goals:{subject1:{...d.value.goals.subject1,dailyQuestions:l.subject1.dailyQuestions,targetScore:l.subject1.targetScore},subject4:{...d.value.goals.subject4,dailyQuestions:l.subject4.dailyQuestions,targetScore:l.subject4.targetScore}},status:"draft"},D.value=!1},X=()=>{d.value.createdAt=new Date().toISOString(),d.value.status="active",v(),D.value=!1},Y=()=>{d.value.status="active",d.value.startDate=new Date().toISOString().split("T")[0],v()},Z=()=>{d.value.status="paused",v()},$=()=>{d.value.status="active",v()},tt=()=>{d.value.status="completed",v()},et=(l,a,n)=>{const y=new Date().toISOString().split("T")[0];o.value[y]||(o.value[y]={subject1:{completed:0,correct:0,target:d.value.goals.subject1.dailyQuestions},subject4:{completed:0,correct:0,target:d.value.goals.subject4.dailyQuestions}}),o.value[y][l].completed+=a,o.value[y][l].correct+=n,U()},st=l=>{const a={draft:"bg-gray-100 text-gray-600",active:"bg-green-100 text-green-600",paused:"bg-yellow-100 text-yellow-600",completed:"bg-blue-100 text-blue-600"};return a[l]||a.draft},ot=l=>({draft:"草稿",active:"进行中",paused:"已暂停",completed:"已完成"})[l]||"未知",lt=l=>l?new Date(l).toLocaleDateString("zh-CN"):"",at=l=>({morning:"上午 (8:00-12:00)",afternoon:"下午 (14:00-18:00)",evening:"晚上 (19:00-23:00)",flexible:"灵活安排"})[l]||"未设置",rt=l=>({easy:"简单优先",medium:"中等难度",hard:"挑战困难",adaptive:"自适应调整"})[l]||"未设置";L(d,()=>{d.value.createdAt&&v()},{deep:!0});const I={props:j,getItem:s,setItem:M,studyPlan:d,dailyRecords:o,userProgress:m,currentStep:W,showPlanWizard:D,planTemplates:q,loadStudyPlan:C,loadDailyRecords:Q,loadUserProgress:V,saveStudyPlan:v,saveDailyRecords:U,saveUserProgress:H,planProgress:N,remainingDays:R,todayTasks:G,studyStats:J,applyTemplate:K,createCustomPlan:X,startPlan:Y,pausePlan:Z,resumePlan:$,completePlan:tt,recordTodayStudy:et,getStatusColor:st,getStatusText:ot,formatDate:lt,getStudyTimeText:at,getDifficultyText:rt,ref:f,computed:w,onMounted:F,watch:L,get useLocalStorage(){return B},get getStorageData(){return k},get setStorageData(){return P}};return Object.defineProperty(I,"__isScriptSetup",{enumerable:!1,value:!0}),I}},bt={class:"study-plan-container"},yt={class:"mb-8 bg-emerald-500 rounded-2xl shadow-lg overflow-hidden"},mt={class:"flex flex-col md:flex-row items-center p-6 md:p-8"},xt={class:"md:w-2/3 text-white mb-6 md:mb-0"},vt={key:0,class:"flex flex-wrap gap-3 mt-4"},ft={class:"bg-white bg-opacity-20 rounded-lg px-4 py-2"},pt={class:"text-2xl font-bold text-emerald-500"},wt={class:"bg-white bg-opacity-20 rounded-lg px-4 py-2"},jt={class:"text-2xl font-bold text-emerald-500"},ht={class:"bg-white bg-opacity-20 rounded-lg px-4 py-2"},kt={class:"text-2xl font-bold text-emerald-500"},Pt={key:0,class:"text-center py-16"},Dt={class:"max-w-md mx-auto"},St={key:1,class:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 mb-8"},_t={class:"flex items-center justify-between mb-6"},Tt={class:"mb-8"},Mt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ct=["onClick"],Qt={class:"text-xl font-bold text-gray-800 mb-2"},Vt={class:"text-gray-600 mb-4"},Ut={class:"space-y-2 mb-4"},It={class:"flex justify-between text-sm"},zt={class:"font-medium"},Bt={class:"flex justify-between text-sm"},Ot={class:"font-medium"},At={class:"flex justify-between text-sm"},Et={class:"font-medium"},Ft={class:"flex flex-wrap gap-2"},Lt={class:"border-t border-gray-200 pt-8"},Wt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},qt={class:"space-y-4"},Ht={class:"grid grid-cols-2 gap-4"},Nt={class:"space-y-4"},Rt={class:"space-y-3"},Gt={class:"flex items-center space-x-3"},Jt={class:"grid grid-cols-2 gap-3"},Kt={class:"space-y-3"},Xt={class:"flex items-center space-x-3"},Yt={class:"grid grid-cols-2 gap-3"},Zt={class:"mt-6 pt-6 border-t border-gray-200"},$t={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},te={class:"mt-8 flex justify-end space-x-4"},ee=["disabled"],se={key:2},oe={class:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 mb-8"},le={class:"flex flex-col lg:flex-row items-start lg:items-center justify-between mb-6"},ae={class:"flex items-center space-x-3 mb-2"},re={class:"text-2xl font-bold text-gray-800"},de={class:"text-gray-600"},ne={key:0,class:"ml-4"},ie={class:"flex space-x-3 mt-4 lg:mt-0"},ue={key:0,class:"mb-6"},ce={class:"flex justify-between text-sm text-gray-600 mb-2"},ge={class:"w-full bg-gray-200 rounded-full h-3"},be={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},ye={class:"text-center p-4 bg-gray-50 rounded-lg"},me={class:"text-2xl font-bold text-gray-800"},xe={class:"text-center p-4 bg-blue-50 rounded-lg"},ve={class:"text-2xl font-bold text-blue-600"},fe={class:"text-center p-4 bg-green-50 rounded-lg"},pe={class:"text-2xl font-bold text-green-600"},we={class:"text-center p-4 bg-purple-50 rounded-lg"},je={class:"text-2xl font-bold text-purple-600"},he={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},ke={key:0,class:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6"},Pe={class:"flex items-center justify-between mb-6"},De={class:"bg-blue-100 text-blue-600 px-3 py-1 rounded-full text-sm font-medium"},Se={class:"space-y-4"},_e={class:"flex justify-between text-sm text-gray-600 mb-2"},Te={class:"w-full bg-gray-200 rounded-full h-3"},Me={class:"grid grid-cols-2 gap-4"},Ce={class:"text-center p-3 bg-gray-50 rounded-lg"},Qe={class:"text-xl font-bold text-green-600"},Ve={class:"text-center p-3 bg-gray-50 rounded-lg"},Ue={class:"text-xl font-bold text-blue-600"},Ie={key:1,class:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6"},ze={class:"flex items-center justify-between mb-6"},Be={class:"bg-green-100 text-green-600 px-3 py-1 rounded-full text-sm font-medium"},Oe={class:"space-y-4"},Ae={class:"flex justify-between text-sm text-gray-600 mb-2"},Ee={class:"w-full bg-gray-200 rounded-full h-3"},Fe={class:"grid grid-cols-2 gap-4"},Le={class:"text-center p-3 bg-gray-50 rounded-lg"},We={class:"text-xl font-bold text-green-600"},qe={class:"text-center p-3 bg-gray-50 rounded-lg"},He={class:"text-xl font-bold text-green-600"},Ne={class:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6"},Re={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Ge={class:"text-center p-4 bg-orange-50 rounded-lg"},Je={class:"text-sm text-gray-600"},Ke={class:"text-center p-4 bg-purple-50 rounded-lg"},Xe={class:"text-sm text-gray-600"},Ye={class:"text-center p-4 bg-blue-50 rounded-lg"},Ze={class:"text-sm text-gray-600"},$e={class:"text-center p-4 bg-green-50 rounded-lg"},ts={class:"text-sm text-gray-600"};function es(T,e,j,s,M,d){return u(),i("div",bt,[t("header",yt,[t("div",mt,[t("div",xt,[e[21]||(e[21]=t("h1",{class:"text-2xl md:text-3xl font-bold mb-3"},"学习计划",-1)),e[22]||(e[22]=t("p",{class:"text-lg opacity-90 mb-4"},"制定个性化学习计划，科学安排学习进度，高效备考驾照考试。",-1)),s.studyPlan.status!=="draft"?(u(),i("div",vt,[t("div",ft,[t("div",pt,r(s.planProgress)+"%",1),e[18]||(e[18]=t("div",{class:"text-sm opacity-80 text-emerald-400"},"计划进度",-1))]),t("div",wt,[t("div",jt,r(s.remainingDays),1),e[19]||(e[19]=t("div",{class:"text-sm opacity-80 text-emerald-400"},"剩余天数",-1))]),t("div",ht,[t("div",kt,r(s.studyStats.streakDays),1),e[20]||(e[20]=t("div",{class:"text-sm opacity-80 text-emerald-400"},"连续学习",-1))])])):b("",!0)]),e[23]||(e[23]=O('<div class="md:w-1/3 flex justify-center" data-v-412bb521><div class="relative" data-v-412bb521><div class="w-32 h-32 bg-white bg-opacity-20 rounded-full flex items-center justify-center" data-v-412bb521><svg class="w-16 h-16 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-412bb521><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" data-v-412bb521></path></svg></div><div class="absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center" data-v-412bb521><svg class="w-4 h-4 text-yellow-800" fill="currentColor" viewBox="0 0 20 20" data-v-412bb521><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" data-v-412bb521></path></svg></div></div></div>',1))])]),s.studyPlan.status==="draft"&&!s.showPlanWizard?(u(),i("div",Pt,[t("div",Dt,[e[24]||(e[24]=O('<div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6" data-v-412bb521><svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-412bb521><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 8l2 2 4-4" data-v-412bb521></path></svg></div><h3 class="text-xl font-semibold text-gray-800 mb-2" data-v-412bb521>还没有学习计划</h3><p class="text-gray-500 mb-6" data-v-412bb521>制定一个适合您的学习计划，让备考更加高效有序</p>',3)),t("button",{onClick:e[0]||(e[0]=o=>s.showPlanWizard=!0),class:"bg-emerald-500 text-white px-8 py-3 rounded-lg hover:bg-emerald-600 transition-all duration-200 font-medium"}," 创建学习计划 ")])])):b("",!0),s.showPlanWizard?(u(),i("div",St,[t("div",_t,[e[26]||(e[26]=t("h2",{class:"text-2xl font-bold text-gray-800"},"创建学习计划",-1)),t("button",{onClick:e[1]||(e[1]=o=>s.showPlanWizard=!1),class:"text-gray-400 hover:text-gray-600 transition-colors duration-200"},e[25]||(e[25]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",Tt,[e[30]||(e[30]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"选择计划模板",-1)),t("div",Mt,[(u(!0),i(A,null,E(s.planTemplates,o=>(u(),i("div",{key:o.id,class:"border border-gray-200 rounded-xl p-6 hover:border-emerald-300 hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:m=>s.applyTemplate(o)},[t("h4",Qt,r(o.name),1),t("p",Vt,r(o.description),1),t("div",Ut,[t("div",It,[e[27]||(e[27]=t("span",{class:"text-gray-500"},"学习周期:",-1)),t("span",zt,r(o.duration)+"天",1)]),t("div",Bt,[e[28]||(e[28]=t("span",{class:"text-gray-500"},"科目一:",-1)),t("span",Ot,r(o.subject1.dailyQuestions)+"题/天",1)]),t("div",At,[e[29]||(e[29]=t("span",{class:"text-gray-500"},"科目四:",-1)),t("span",Et,r(o.subject4.dailyQuestions)+"题/天",1)])]),t("div",Ft,[(u(!0),i(A,null,E(o.features,m=>(u(),i("span",{key:m,class:"px-2 py-1 bg-emerald-100 text-emerald-600 rounded text-xs font-medium"},r(m),1))),128))])],8,Ct))),128))])]),t("div",Lt,[e[52]||(e[52]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"自定义计划",-1)),t("div",Wt,[t("div",qt,[t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"计划名称",-1)),g(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.studyPlan.name=o),type:"text",placeholder:"我的学习计划",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"},null,512),[[x,s.studyPlan.name]])]),t("div",Ht,[t("div",null,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"开始日期",-1)),g(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.studyPlan.startDate=o),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"},null,512),[[x,s.studyPlan.startDate]])]),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"结束日期",-1)),g(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.studyPlan.endDate=o),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"},null,512),[[x,s.studyPlan.endDate]])])]),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"目标考试日期",-1)),g(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>s.studyPlan.targetExamDate=o),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"},null,512),[[x,s.studyPlan.targetExamDate]])])]),t("div",Nt,[t("div",null,[e[38]||(e[38]=t("h4",{class:"font-semibold text-gray-800 mb-3"},"科目一目标",-1)),t("div",Rt,[t("div",Gt,[g(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>s.studyPlan.goals.subject1.enabled=o),type:"checkbox",class:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"},null,512),[[z,s.studyPlan.goals.subject1.enabled]]),e[35]||(e[35]=t("label",{class:"text-sm text-gray-700"},"包含科目一",-1))]),t("div",Jt,[t("div",null,[e[36]||(e[36]=t("label",{class:"block text-xs text-gray-500 mb-1"},"目标分数",-1)),g(t("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>s.studyPlan.goals.subject1.targetScore=o),type:"number",min:"60",max:"100",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-emerald-500 focus:border-transparent"},null,512),[[x,s.studyPlan.goals.subject1.targetScore,void 0,{number:!0}]])]),t("div",null,[e[37]||(e[37]=t("label",{class:"block text-xs text-gray-500 mb-1"},"每日题数",-1)),g(t("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>s.studyPlan.goals.subject1.dailyQuestions=o),type:"number",min:"5",max:"100",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-emerald-500 focus:border-transparent"},null,512),[[x,s.studyPlan.goals.subject1.dailyQuestions,void 0,{number:!0}]])])])])]),t("div",null,[e[42]||(e[42]=t("h4",{class:"font-semibold text-gray-800 mb-3"},"科目四目标",-1)),t("div",Kt,[t("div",Xt,[g(t("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>s.studyPlan.goals.subject4.enabled=o),type:"checkbox",class:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"},null,512),[[z,s.studyPlan.goals.subject4.enabled]]),e[39]||(e[39]=t("label",{class:"text-sm text-gray-700"},"包含科目四",-1))]),t("div",Yt,[t("div",null,[e[40]||(e[40]=t("label",{class:"block text-xs text-gray-500 mb-1"},"目标分数",-1)),g(t("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>s.studyPlan.goals.subject4.targetScore=o),type:"number",min:"60",max:"100",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-emerald-500 focus:border-transparent"},null,512),[[x,s.studyPlan.goals.subject4.targetScore,void 0,{number:!0}]])]),t("div",null,[e[41]||(e[41]=t("label",{class:"block text-xs text-gray-500 mb-1"},"每日题数",-1)),g(t("input",{"onUpdate:modelValue":e[11]||(e[11]=o=>s.studyPlan.goals.subject4.dailyQuestions=o),type:"number",min:"5",max:"100",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-emerald-500 focus:border-transparent"},null,512),[[x,s.studyPlan.goals.subject4.dailyQuestions,void 0,{number:!0}]])])])])])])]),t("div",Zt,[e[51]||(e[51]=t("h4",{class:"font-semibold text-gray-800 mb-4"},"学习偏好",-1)),t("div",$t,[t("div",null,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"学习时间",-1)),g(t("select",{"onUpdate:modelValue":e[12]||(e[12]=o=>s.studyPlan.preferences.studyTime=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"},e[43]||(e[43]=[t("option",{value:"morning"},"上午",-1),t("option",{value:"afternoon"},"下午",-1),t("option",{value:"evening"},"晚上",-1),t("option",{value:"flexible"},"灵活",-1)]),512),[[h,s.studyPlan.preferences.studyTime]])]),t("div",null,[e[46]||(e[46]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"难度偏好",-1)),g(t("select",{"onUpdate:modelValue":e[13]||(e[13]=o=>s.studyPlan.preferences.difficulty=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"},e[45]||(e[45]=[t("option",{value:"easy"},"简单优先",-1),t("option",{value:"medium"},"中等难度",-1),t("option",{value:"hard"},"挑战困难",-1),t("option",{value:"adaptive"},"自适应",-1)]),512),[[h,s.studyPlan.preferences.difficulty]])]),t("div",null,[e[48]||(e[48]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"复习频率",-1)),g(t("select",{"onUpdate:modelValue":e[14]||(e[14]=o=>s.studyPlan.preferences.reviewFrequency=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"},e[47]||(e[47]=[t("option",{value:1},"每天",-1),t("option",{value:2},"2天",-1),t("option",{value:3},"3天",-1),t("option",{value:7},"一周",-1)]),512),[[h,s.studyPlan.preferences.reviewFrequency,void 0,{number:!0}]])]),t("div",null,[e[50]||(e[50]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"休息间隔",-1)),g(t("select",{"onUpdate:modelValue":e[15]||(e[15]=o=>s.studyPlan.preferences.breakInterval=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"},e[49]||(e[49]=[t("option",{value:15},"15分钟",-1),t("option",{value:30},"30分钟",-1),t("option",{value:45},"45分钟",-1),t("option",{value:60},"1小时",-1)]),512),[[h,s.studyPlan.preferences.breakInterval,void 0,{number:!0}]])])])]),t("div",te,[t("button",{onClick:e[16]||(e[16]=o=>s.showPlanWizard=!1),class:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200"}," 取消 "),t("button",{onClick:s.createCustomPlan,disabled:!s.studyPlan.name||!s.studyPlan.startDate||!s.studyPlan.endDate,class:"px-6 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"}," 创建计划 ",8,ee)])])])):b("",!0),s.studyPlan.status!=="draft"?(u(),i("div",se,[t("div",oe,[t("div",le,[t("div",null,[t("div",ae,[t("h2",re,r(s.studyPlan.name||"我的学习计划"),1),t("span",{class:ut(["px-3 py-1 rounded-full text-sm font-medium",s.getStatusColor(s.studyPlan.status)])},r(s.getStatusText(s.studyPlan.status)),3)]),t("p",de,[ct(r(s.formatDate(s.studyPlan.startDate))+" - "+r(s.formatDate(s.studyPlan.endDate))+" ",1),s.studyPlan.targetExamDate?(u(),i("span",ne," 目标考试: "+r(s.formatDate(s.studyPlan.targetExamDate)),1)):b("",!0)])]),t("div",ie,[s.studyPlan.status==="draft"?(u(),i("button",{key:0,onClick:s.startPlan,class:"bg-emerald-500 text-white px-4 py-2 rounded-lg hover:bg-emerald-600 transition-all duration-200"}," 开始计划 ")):b("",!0),s.studyPlan.status==="active"?(u(),i("button",{key:1,onClick:s.pausePlan,class:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors duration-200"}," 暂停计划 ")):b("",!0),s.studyPlan.status==="paused"?(u(),i("button",{key:2,onClick:s.resumePlan,class:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors duration-200"}," 恢复计划 ")):b("",!0),s.studyPlan.status==="active"?(u(),i("button",{key:3,onClick:s.completePlan,class:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors duration-200"}," 完成计划 ")):b("",!0),t("button",{onClick:e[17]||(e[17]=o=>s.showPlanWizard=!0),class:"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors duration-200"}," 编辑计划 ")])]),s.studyPlan.status==="active"?(u(),i("div",ue,[t("div",ce,[e[53]||(e[53]=t("span",null,"计划进度",-1)),t("span",null,r(s.planProgress)+"%",1)]),t("div",ge,[t("div",{class:"bg-emerald-500 h-3 rounded-full transition-all duration-500",style:_({width:s.planProgress+"%"})},null,4)])])):b("",!0),t("div",be,[t("div",ye,[t("div",me,r(s.remainingDays),1),e[54]||(e[54]=t("div",{class:"text-sm text-gray-600"},"剩余天数",-1))]),t("div",xe,[t("div",ve,r(s.studyStats.totalDays),1),e[55]||(e[55]=t("div",{class:"text-sm text-gray-600"},"已学习天数",-1))]),t("div",fe,[t("div",pe,r(s.studyStats.streakDays),1),e[56]||(e[56]=t("div",{class:"text-sm text-gray-600"},"连续学习",-1))]),t("div",we,[t("div",je,r(s.studyStats.accuracy)+"%",1),e[57]||(e[57]=t("div",{class:"text-sm text-gray-600"},"总正确率",-1))])])]),t("div",he,[s.studyPlan.goals.subject1.enabled?(u(),i("div",ke,[t("div",Pe,[e[58]||(e[58]=t("h3",{class:"text-xl font-bold text-gray-800"},"科目一 - 今日任务",-1)),t("span",De,r(Math.round(s.todayTasks.subject1.progress))+"% ",1)]),t("div",Se,[t("div",null,[t("div",_e,[e[59]||(e[59]=t("span",null,"完成进度",-1)),t("span",null,r(s.todayTasks.subject1.completed)+"/"+r(s.todayTasks.subject1.target),1)]),t("div",Te,[t("div",{class:"bg-blue-500 h-3 rounded-full transition-all duration-500",style:_({width:Math.min(s.todayTasks.subject1.progress,100)+"%"})},null,4)])]),t("div",Me,[t("div",Ce,[t("div",Qe,r(s.todayTasks.subject1.correct),1),e[60]||(e[60]=t("div",{class:"text-sm text-gray-600"},"答对题数",-1))]),t("div",Ve,[t("div",Ue,r(Math.round(s.todayTasks.subject1.accuracy))+"%",1),e[61]||(e[61]=t("div",{class:"text-sm text-gray-600"},"正确率",-1))])]),e[62]||(e[62]=t("div",{class:"pt-4"},[t("a",{href:"/subject1",class:"w-full bg-blue-500 text-white text-center py-3 rounded-lg hover:bg-blue-600 transition-all duration-200 font-medium block"}," 开始练习科目一 ")],-1))])])):b("",!0),s.studyPlan.goals.subject4.enabled?(u(),i("div",Ie,[t("div",ze,[e[63]||(e[63]=t("h3",{class:"text-xl font-bold text-gray-800"},"科目四 - 今日任务",-1)),t("span",Be,r(Math.round(s.todayTasks.subject4.progress))+"% ",1)]),t("div",Oe,[t("div",null,[t("div",Ae,[e[64]||(e[64]=t("span",null,"完成进度",-1)),t("span",null,r(s.todayTasks.subject4.completed)+"/"+r(s.todayTasks.subject4.target),1)]),t("div",Ee,[t("div",{class:"bg-green-500 h-3 rounded-full transition-all duration-500",style:_({width:Math.min(s.todayTasks.subject4.progress,100)+"%"})},null,4)])]),t("div",Fe,[t("div",Le,[t("div",We,r(s.todayTasks.subject4.correct),1),e[65]||(e[65]=t("div",{class:"text-sm text-gray-600"},"答对题数",-1))]),t("div",qe,[t("div",He,r(Math.round(s.todayTasks.subject4.accuracy))+"%",1),e[66]||(e[66]=t("div",{class:"text-sm text-gray-600"},"正确率",-1))])]),e[67]||(e[67]=t("div",{class:"pt-4"},[t("a",{href:"/subject4",class:"w-full bg-green-500 text-white text-center py-3 rounded-lg hover:bg-green-600 transition-all duration-200 font-medium block"}," 开始练习科目四 ")],-1))])])):b("",!0)]),t("div",Ne,[e[76]||(e[76]=t("h3",{class:"text-xl font-bold text-gray-800 mb-6"},"学习偏好设置",-1)),t("div",Re,[t("div",Ge,[e[68]||(e[68]=t("div",{class:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mx-auto mb-3"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),e[69]||(e[69]=t("div",{class:"font-semibold text-gray-800"},"学习时间",-1)),t("div",Je,r(s.getStudyTimeText(s.studyPlan.preferences.studyTime)),1)]),t("div",Ke,[e[70]||(e[70]=t("div",{class:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center mx-auto mb-3"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),e[71]||(e[71]=t("div",{class:"font-semibold text-gray-800"},"难度偏好",-1)),t("div",Xe,r(s.getDifficultyText(s.studyPlan.preferences.difficulty)),1)]),t("div",Ye,[e[72]||(e[72]=t("div",{class:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mx-auto mb-3"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})])],-1)),e[73]||(e[73]=t("div",{class:"font-semibold text-gray-800"},"复习频率",-1)),t("div",Ze,"每"+r(s.studyPlan.preferences.reviewFrequency)+"天",1)]),t("div",$e,[e[74]||(e[74]=t("div",{class:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mx-auto mb-3"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e[75]||(e[75]=t("div",{class:"font-semibold text-gray-800"},"休息间隔",-1)),t("div",ts,r(s.studyPlan.preferences.breakInterval)+"分钟",1)])])])])):b("",!0)])}const is=it(gt,[["render",es],["__scopeId","data-v-412bb521"]]);export{is as default};
