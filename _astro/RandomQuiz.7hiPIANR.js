import{w as Se}from"./runtime-dom.esm-bundler.Brv_fg9F.js";import{s as z,g as O}from"./storage.BTi9KS4P.js";/* empty css                             */import{_ as je}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as d,a as t,b,e as ae,t as g,d as _,F as Ae,r as Me,g as ne,h as f,k as C,o as le,j as ie,l as u}from"./runtime-core.esm-bundler.BZ9WtKOo.js";const Qe={__name:"RandomQuiz",props:{subject:{type:String,required:!0},questions:{type:Array,required:!0}},setup(V,{expose:s}){s();const p=V,o=f(!0),a=f(null),c=f([]),v=f(!1),m=f(!1),q=f(!1),S=f(!1),x=f(null),h=f(0),D=f(0),j=f([]),A=f([]),y=f([]),k=f([]),M=f([]),Q=f([]),de=C(()=>x.value?Date.now()-x.value:0),B=C(()=>A.value.length),F=C(()=>y.value.length),ue=C(()=>k.value.length),ce=C(()=>B.value===0?0:Math.round(F.value/B.value*100)),ge=C(()=>{if(j.value.length===0)return"0秒";const r=j.value.reduce((e,n)=>e+n,0)/j.value.length;return H(r)}),ve=C(()=>M.value.length),fe=C(()=>a.value?.body?/<img[^>]*>/i.test(a.value.body):!1),me=r=>{if(!r)return"";let e=r;return e=e.replace(/&(?!(?:amp|lt|gt|quot|#39|#x27|#x2F);)/g,"&amp;"),e=e.replace(/^#{6}\s+(.+)$/gm,"<h6>$1</h6>"),e=e.replace(/^#{5}\s+(.+)$/gm,"<h5>$1</h5>"),e=e.replace(/^#{4}\s+(.+)$/gm,"<h4>$1</h4>"),e=e.replace(/^#{3}\s+(.+)$/gm,"<h3>$1</h3>"),e=e.replace(/^#{2}\s+(.+)$/gm,"<h2>$1</h2>"),e=e.replace(/^#{1}\s+(.+)$/gm,"<h1>$1</h1>"),e=e.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),e=e.replace(/__([^_]+)__/g,"<strong>$1</strong>"),e=e.replace(/\*([^*]+)\*/g,"<em>$1</em>"),e=e.replace(/_([^_]+)_/g,"<em>$1</em>"),e=e.replace(/`([^`]+)`/g,"<code>$1</code>"),e=e.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,'<img src="$2" alt="$1" class="max-w-full h-auto rounded-lg" />'),e=e.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>'),e=e.replace(/^[*+-]\s+(.+)$/gm,"<li>$1</li>"),e=e.replace(/(<li>.*<\/li>)/s,"<ul>$1</ul>"),e=e.replace(/^\d+\.\s+(.+)$/gm,"<li>$1</li>"),e=e.replace(/(<li>\d+\..*<\/li>)/s,"<ol>$1</ol>"),e=e.replace(/^>\s+(.+)$/gm,"<blockquote>$1</blockquote>"),e=e.replace(/^---$/gm,"<hr>"),e=e.replace(/^\*\*\*$/gm,"<hr>"),e=e.replace(/```([\s\S]*?)```/g,"<pre><code>$1</code></pre>"),e=e.replace(/\n\n/g,"</p><p>"),e=e.replace(/\n/g,"<br>"),e&&!e.startsWith("<")&&(e="<p>"+e+"</p>"),e},be=r=>({single:"单选题",multiple:"多选题",judge:"判断题"})[r]||"未知类型",xe=r=>({easy:"简单",medium:"中等",hard:"困难"})[r]||"未知",pe=r=>({easy:"bg-green-500/20",medium:"bg-yellow-500/20",hard:"bg-red-500/20"})[r]||"bg-gray-500/20",H=r=>{const e=Math.floor(r/1e3);if(e<60)return`${e}秒`;const n=Math.floor(e/60),i=e%60;return`${n}分${i}秒`},E=()=>{x.value=Date.now()},R=()=>{x.value&&(h.value=Date.now()-x.value,j.value.push(h.value),D.value+=h.value,x.value=null)},P=()=>{try{o.value=!0,Q.value=p.questions||[],N()}catch(r){console.error("初始化题目失败:",r)}finally{o.value=!1}},N=()=>{if(Q.value.length===0)return;const r=Math.floor(Math.random()*Q.value.length);a.value=Q.value[r],c.value=[],v.value=!1,m.value=!1,h.value=0,U(),E()},U=()=>{if(a.value)try{const r=localStorage.getItem("favoriteQuestions");if(r){const e=JSON.parse(r);S.value=!!e[a.value.slug]}else S.value=!1}catch(r){console.error("检查收藏状态失败:",r),S.value=!1}},Z=r=>{if(!v.value)if(a.value.data.type==="multiple"){const e=c.value.indexOf(r);e>-1?c.value.splice(e,1):c.value.push(r)}else c.value=[r]},J=r=>{v.value||(c.value=[r])},K=()=>{if(!a.value||c.value.length===0)return;R(),v.value=!0;const r=a.value.data.answer;if(a.value.data.type==="judge")m.value=c.value[0]===r;else if(a.value.data.type==="multiple"){const e=[...c.value].sort(),n=[...r].sort();m.value=JSON.stringify(e)===JSON.stringify(n)}else{const e=c.value[0],n=String.fromCharCode(65+e);m.value=n===r}G()},W=()=>{if(!a.value)return;const r=O("wrongQuestions",{});r[a.value.slug]={subject:p.subject,timestamp:Date.now(),userAnswer:X(),correctAnswer:a.value.data.answer},z("wrongQuestions",r)},X=()=>a.value?a.value.data.type==="judge"?c.value[0]===0?"true":"false":a.value.data.type==="multiple"?c.value.map(r=>String.fromCharCode(65+r)).join(","):c.value.length>0?String.fromCharCode(65+c.value[0]):"":"",G=()=>{if(!a.value)return;const r=a.value.id;if(A.value.includes(r)||A.value.push(r),m.value){y.value.includes(r)||y.value.push(r);const e=k.value.indexOf(r);e>-1&&k.value.splice(e,1)}else{k.value.includes(r)||k.value.push(r);const e=y.value.indexOf(r);e>-1&&y.value.splice(e,1),W()}$(),ee(),localStorage.setItem("quiz-answered",JSON.stringify(A.value)),localStorage.setItem("quiz-correct",JSON.stringify(y.value)),localStorage.setItem("quiz-wrong",JSON.stringify(k.value)),localStorage.setItem("quiz-times",JSON.stringify(j.value))},Y=()=>{h.value=0,N()},$=()=>{const r=O("userProgress",{subject1:{total:0,completed:0,correct:0},subject4:{total:0,completed:0,correct:0}}),e=p.subject==="科目一"?"subject1":"subject4";r[e].completed=(r[e].completed||0)+1,m.value&&(r[e].correct=(r[e].correct||0)+1),p.subject==="科目一"?r.subject1.total=subject1Questions.length:r.subject4.total=subject4Questions.length,z("userProgress",r)},ee=()=>{if(!a.value)return;const r=O("answerStats",{}),e=a.value.slug;let n=h.value;if(r[e]){const i=r[e].averageTime||0,l=r[e].attempts||0;n=(i*l+h.value)/(l+1)}r[e]={subject:p.subject,isCorrect:m.value,userAnswer:c.value,correctAnswer:a.value.data.answer,answerTime:h.value,averageTime:n,lastAnswered:Date.now(),attempts:(r[e]?.attempts||0)+1},z("answerStats",r)},te=()=>{if(!a.value)return;const r=a.value.slug,e={id:a.value.id,slug:r,title:a.value.data.question,type:a.value.data.type,difficulty:a.value.data.difficulty,subject:p.subject,addedAt:Date.now()};let n={};try{const l=localStorage.getItem("favoriteQuestions");l&&(n=JSON.parse(l))}catch(l){console.error("读取收藏数据失败:",l)}n[r]?(delete n[r],S.value=!1):(n[r]=e,S.value=!0),localStorage.setItem("favoriteQuestions",JSON.stringify(n));const i=M.value.findIndex(l=>l.id===a.value.id);S.value&&i===-1?M.value.push(e):!S.value&&i>-1&&M.value.splice(i,1)},he=()=>{confirm("确定要重置所有统计数据吗？此操作不可恢复。")&&(A.value=[],y.value=[],k.value=[],j.value=[],D.value=0,localStorage.removeItem("quiz-answered"),localStorage.removeItem("quiz-correct"),localStorage.removeItem("quiz-wrong"),localStorage.removeItem("quiz-times"),q.value=!1)},ye=r=>{if(!v.value)return c.value.includes(r)?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600";const e=a.value.data.answer,n=a.value.data.type,i=a.value.data.options;let l=!1;return n==="multiple"?Array.isArray(e)&&(e.length>0&&typeof e[0]=="string"&&i?l=e.includes(i[r]):e.length>0&&typeof e[0]=="number"&&(l=e.includes(r))):n==="single"&&(typeof e=="string"?/^[A-Z]$/.test(e)?l=e.charCodeAt(0)-65===r:i&&(l=e===i[r]):typeof e=="number"?l=e===r:Array.isArray(e)&&e.length>0&&(l=e[0]===r)),l?"border-green-500 bg-green-50 dark:bg-green-900/20":c.value.includes(r)?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-700 opacity-50"},ke=r=>{if(!v.value)return c.value.includes(r)?"border-blue-500 text-blue-500":"border-gray-300 dark:border-gray-600";const e=a.value.data.answer,n=a.value.data.type,i=a.value.data.options;let l=!1;return n==="multiple"?Array.isArray(e)&&(e.length>0&&typeof e[0]=="string"&&i?l=e.includes(i[r]):e.length>0&&typeof e[0]=="number"&&(l=e.includes(r))):n==="single"&&(typeof e=="string"?/^[A-Z]$/.test(e)?l=e.charCodeAt(0)-65===r:i&&(l=e===i[r]):typeof e=="number"?l=e===r:Array.isArray(e)&&e.length>0&&(l=e[0]===r)),l?"border-green-500 text-green-500":c.value.includes(r)?"border-red-500 text-red-500":"border-gray-300 dark:border-gray-600 opacity-50"},we=r=>{if(!v.value)return c.value.includes(r)?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600";const e=a.value.data.answer;return r===e?"border-green-500 bg-green-50 dark:bg-green-900/20":c.value.includes(r)?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-700 opacity-50"},_e=()=>{if(!a.value)return"";const r=a.value.data.answer,e=a.value.data.type,n=a.value.data.options;if(e==="judge")return typeof r=="string"?r==="true"?"正确":"错误":r?"正确":"错误";if(e==="single"){if(typeof r=="string"){if(/^[A-Z]$/.test(r)){const i=r.charCodeAt(0)-65;return n&&n[i]?`${r}. ${n[i]}`:r}return r}if(typeof r=="number"){const i=String.fromCharCode(65+r);return n&&n[r]?`${i}. ${n[r]}`:i}if(Array.isArray(r)&&r.length>0){const i=r[0],l=String.fromCharCode(65+i);return n&&n[i]?`${l}. ${n[i]}`:l}}if(e==="multiple"&&Array.isArray(r)){if(r.length>0&&typeof r[0]=="string"&&n){const i=r.map(l=>{const w=n.indexOf(l);return w!==-1?String.fromCharCode(65+w):""}).filter(l=>l!=="");return i.length>0?i.map(l=>{const w=l.charCodeAt(0)-65;return`${l}. ${n[w]}`}).join("；"):r.join("；")}if(r.length>0&&typeof r[0]=="number")return r.map(i=>{const l=String.fromCharCode(65+i);return n&&n[i]?`${l}. ${n[i]}`:l}).join("；")}return String(r)},Ce=()=>{x.value&&(x.value=null),window.history.back()},L=r=>{if(!a.value||r.target.tagName==="INPUT"||r.target.tagName==="TEXTAREA")return;const e=r.key.toLowerCase();if(["a","b","c","d"].includes(e)&&a.value.data.options){r.preventDefault();const n=e.charCodeAt(0)-97;n<a.value.data.options.length&&Z(n)}a.value.data.type==="judge"&&(e==="y"||e==="1"?(r.preventDefault(),J(!0)):(e==="n"||e==="0")&&(r.preventDefault(),J(!1))),r.code==="Space"&&!v.value&&c.value.length>0&&(r.preventDefault(),K()),r.code==="Enter"&&v.value&&(r.preventDefault(),Y()),e==="f"&&(r.preventDefault(),te())},re=()=>{try{const r=localStorage.getItem("quiz-answered");r&&(A.value=JSON.parse(r));const e=localStorage.getItem("quiz-correct");e&&(y.value=JSON.parse(e));const n=localStorage.getItem("quiz-wrong");n&&(k.value=JSON.parse(n));const i=localStorage.getItem("quiz-times");i&&(j.value=JSON.parse(i));const l=localStorage.getItem("favoriteQuestions"),w=localStorage.getItem("quiz-favorites");if(l){const T=JSON.parse(l);M.value=Object.values(T)}else if(w){const T=JSON.parse(w),oe={};T.forEach(I=>{I.id&&(oe[I.id]={...I,slug:I.id,subject:p.subject})}),localStorage.setItem("favoriteQuestions",JSON.stringify(oe)),localStorage.removeItem("quiz-favorites"),M.value=T}}catch(r){console.error("加载本地数据失败:",r)}};le(()=>{re(),P(),document.addEventListener("keydown",L)}),ie(()=>{document.removeEventListener("keydown",L),x.value&&(x.value=null)});const se={props:p,loading:o,currentQuestion:a,selectedAnswers:c,showAnswer:v,isCorrect:m,showStatsModal:q,isFavorited:S,currentQuestionStartTime:x,lastAnswerTime:h,totalAnswerTime:D,answerTimes:j,answeredQuestions:A,correctAnswers:y,wrongAnswers:k,favoriteQuestions:M,allQuestions:Q,currentQuestionTime:de,answeredCount:B,correctCount:F,wrongCount:ue,correctRate:ce,averageTime:ge,favoriteCount:ve,hasImageInContent:fe,renderMarkdown:me,getTypeText:be,getDifficultyText:xe,getDifficultyClass:pe,formatTime:H,startTimer:E,stopTimer:R,initQuestions:P,loadRandomQuestion:N,checkFavoriteStatus:U,selectOption:Z,selectJudgeAnswer:J,checkAnswer:K,saveToWrongQuestions:W,getFormattedUserAnswer:X,saveStats:G,nextQuestion:Y,updateUserProgress:$,saveAnswerStats:ee,toggleFavorite:te,resetStats:he,getOptionClass:ye,getOptionIconClass:ke,getJudgeOptionClass:we,getCorrectAnswerText:_e,goBack:Ce,handleKeyPress:L,loadLocalData:re,ref:f,computed:C,onMounted:le,onUnmounted:ie,get getStorageData(){return O},get setStorageData(){return z}};return Object.defineProperty(se,"__isScriptSetup",{enumerable:!1,value:!0}),se}},Te={class:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"},Ie={class:"container mx-auto px-4 py-6 max-w-4xl"},ze={class:"flex items-center justify-between mb-8"},Oe={class:"hidden sm:flex items-center space-x-6"},qe={class:"flex items-center space-x-2 px-4 py-2 bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50"},De={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Be={class:"flex items-center space-x-2 px-4 py-2 bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50"},Ne={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Je={key:0,class:"flex items-center space-x-2 px-4 py-2 bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50"},Le={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Ve={key:0,class:"text-center py-20"},Fe={key:1,class:"space-y-8"},He={class:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl border border-gray-200/50 dark:border-gray-700/50 overflow-hidden"},Ee={class:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 sm:px-8 py-6"},Re={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0"},Pe={class:"flex flex-wrap items-center gap-3"},Ue={class:"px-3 py-1.5 bg-white/20 backdrop-blur-sm text-white rounded-full text-sm font-medium border border-white/30"},Ze={class:"px-3 py-1.5 bg-white/10 backdrop-blur-sm text-white/80 rounded-full text-xs font-mono"},Ke={class:"flex sm:hidden items-center space-x-4 text-sm text-white/80"},We={key:0},Xe={class:"p-6 sm:p-8"},Ge={class:"mb-8"},Ye={key:0,class:"bg-gradient-to-r from-indigo-50 to-blue-50 dark:from-gray-700/50 dark:to-gray-600/50 rounded-2xl p-4 mb-4 border border-indigo-100 dark:border-gray-600"},$e={class:"flex items-start space-x-3"},et={class:"text-gray-700 dark:text-gray-300 text-base leading-relaxed"},tt={class:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-gray-700/50 dark:to-gray-600/50 rounded-2xl p-6 mb-6 border border-blue-100 dark:border-gray-600"},rt={class:"flex items-start space-x-3 mb-4"},st={class:"flex-1"},ot={class:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white leading-relaxed"},at={key:0,class:"mt-4 pt-4 border-t border-blue-200 dark:border-gray-600"},nt={class:"flex items-start space-x-2"},lt={class:"text-gray-700 dark:text-gray-300 text-base leading-relaxed prose prose-sm max-w-none dark:prose-invert"},it=["innerHTML"],dt={key:1,class:"mb-6"},ut={class:"relative group"},ct=["src","alt"],gt={key:2,class:"mb-6"},vt={class:"relative group prose prose-lg max-w-none dark:prose-invert"},ft=["innerHTML"],mt={class:"space-y-6"},bt={key:0,class:"space-y-4"},xt=["onClick"],pt={class:"flex items-center space-x-3"},ht={key:0,class:"w-3 h-3 bg-current rounded-full"},yt={class:"font-medium text-lg"},kt={class:"flex-1 text-base sm:text-lg"},wt={key:1,class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},_t={key:0,class:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl border border-gray-200/50 dark:border-gray-700/50 overflow-hidden mt-6"},Ct={class:"p-6 sm:p-8"},St={class:"flex items-start space-x-3 mb-4"},jt={key:0,class:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},At={key:1,class:"w-5 h-5 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Mt={class:"flex-1"},Qt={class:"text-gray-600 dark:text-gray-300 mb-3"},Tt={key:0,class:"text-gray-500 dark:text-gray-400 text-sm mb-3"},It={key:1,class:"prose prose-sm max-w-none dark:prose-invert"},zt=["innerHTML"],Ot={key:2,class:"text-center py-20"},qt={key:0,class:"fixed bottom-6 left-6 flex flex-col space-y-3 z-50"},Dt=["title"],Bt={class:"flex items-center justify-between mb-6"},Nt={class:"space-y-4"},Jt={class:"grid grid-cols-2 gap-4"},Lt={class:"bg-blue-50 dark:bg-blue-900/20 rounded-2xl p-4 text-center"},Vt={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},Ft={class:"bg-green-50 dark:bg-green-900/20 rounded-2xl p-4 text-center"},Ht={class:"text-2xl font-bold text-green-600 dark:text-green-400"},Et={class:"space-y-3"},Rt={class:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700"},Pt={class:"font-medium text-green-600 dark:text-green-400"},Ut={class:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700"},Zt={class:"font-medium text-red-600 dark:text-red-400"},Kt={class:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700"},Wt={class:"font-medium text-gray-900 dark:text-white"},Xt={class:"flex justify-between items-center py-2"},Gt={class:"font-medium text-yellow-600 dark:text-yellow-400"};function Yt(V,s,p,o,a,c){return u(),d("div",Te,[t("div",Ie,[t("div",ze,[t("div",{class:"flex items-center space-x-4"},[t("button",{onClick:o.goBack,class:"p-3 bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 hover:shadow-xl transition-all duration-200 group"},s[6]||(s[6]=[t("svg",{class:"w-5 h-5 text-gray-600 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),s[7]||(s[7]=t("div",null,[t("h1",{class:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"},"随机刷题"),t("p",{class:"text-gray-600 dark:text-gray-400 text-sm mt-1"},"智能练习，提升技能")],-1))]),t("div",Oe,[t("div",qe,[s[8]||(s[8]=t("svg",{class:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t("span",De,g(o.answeredCount)+" 题",1)]),t("div",Be,[s[9]||(s[9]=t("svg",{class:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),t("span",Ne,g(o.correctRate)+"%",1)]),o.currentQuestionStartTime?(u(),d("div",Je,[s[10]||(s[10]=t("svg",{class:"w-5 h-5 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("span",Le,g(o.formatTime(o.currentQuestionTime)),1)])):b("",!0)])]),s[30]||(s[30]=ae('<div class="mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800/50 dark:to-gray-700/50 rounded-2xl border border-blue-100 dark:border-gray-600" data-v-a01b584c><div class="flex items-center justify-between" data-v-a01b584c><div class="flex items-center space-x-2" data-v-a01b584c><svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-a01b584c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-a01b584c></path></svg><span class="text-sm font-medium text-blue-700 dark:text-blue-300" data-v-a01b584c>快捷键提示</span></div><div class="flex items-center space-x-4 text-xs text-blue-600 dark:text-blue-400" data-v-a01b584c><span data-v-a01b584c><kbd class="px-2 py-1 bg-white dark:bg-gray-700 rounded border" data-v-a01b584c>A-D</kbd> 选择选项</span><span data-v-a01b584c><kbd class="px-2 py-1 bg-white dark:bg-gray-700 rounded border" data-v-a01b584c>Space</kbd> 显示答案</span><span data-v-a01b584c><kbd class="px-2 py-1 bg-white dark:bg-gray-700 rounded border" data-v-a01b584c>Enter</kbd> 下一题</span></div></div></div>',1)),o.loading?(u(),d("div",Ve,s[11]||(s[11]=[t("div",{class:"inline-flex items-center space-x-3"},[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),t("span",{class:"text-gray-600 dark:text-gray-400"},"正在加载题目...")],-1)]))):o.currentQuestion?(u(),d("div",Fe,[t("div",He,[t("div",Ee,[t("div",Re,[t("div",Pe,[t("span",Ue,g(o.getTypeText(o.currentQuestion.data.type)),1),t("span",{class:_(["px-3 py-1.5 backdrop-blur-sm text-white rounded-full text-sm font-medium border border-white/30",o.getDifficultyClass(o.currentQuestion.data.difficulty)])},g(o.getDifficultyText(o.currentQuestion.data.difficulty)),3),t("span",Ze," #"+g(o.currentQuestion.id),1)]),t("div",Ke,[t("span",null,g(o.answeredCount)+" 题",1),t("span",null,g(o.correctRate)+"%",1),o.currentQuestionStartTime?(u(),d("span",We,g(o.formatTime(o.currentQuestionTime)),1)):b("",!0)])])]),t("div",Xe,[t("div",Ge,[s[21]||(s[21]=t("div",{class:"mb-4"},[t("div",{class:"flex items-center space-x-3 mb-3"},[t("div",{class:"w-2 h-8 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full"}),t("h1",{class:"text-lg sm:text-xl font-bold text-gray-700 dark:text-gray-300"}," 题目内容 ")])],-1)),o.currentQuestion.data.title?(u(),d("div",Ye,[t("div",$e,[s[13]||(s[13]=t("svg",{class:"w-5 h-5 text-indigo-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a.997.997 0 01-1.414 0l-7-7A1.997 1.997 0 013 12V7a4 4 0 014-4z"})],-1)),t("div",null,[s[12]||(s[12]=t("h3",{class:"text-sm font-semibold text-indigo-600 dark:text-indigo-400 mb-1"},"题目标题",-1)),t("p",et,g(o.currentQuestion.data.title),1)])])])):b("",!0),t("div",tt,[t("div",rt,[s[15]||(s[15]=t("svg",{class:"w-6 h-6 text-blue-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("div",st,[s[14]||(s[14]=t("h3",{class:"text-sm font-semibold text-blue-600 dark:text-blue-400 mb-2"},"题目问题",-1)),t("div",ot,g(o.currentQuestion.data.question),1)])]),o.currentQuestion.body&&o.currentQuestion.body.trim()?(u(),d("div",at,[t("div",nt,[s[17]||(s[17]=t("svg",{class:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("div",lt,[s[16]||(s[16]=t("strong",{class:"text-blue-600 dark:text-blue-400"},"详细描述：",-1)),t("div",{innerHTML:o.renderMarkdown(o.currentQuestion.body)},null,8,it)])])])):b("",!0)]),o.currentQuestion.data.image?(u(),d("div",dt,[s[19]||(s[19]=t("div",{class:"flex items-center space-x-2 mb-3"},[t("svg",{class:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),t("span",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"参考图片")],-1)),t("div",ut,[t("img",{src:o.currentQuestion.data.image,alt:"题目图片 - "+o.currentQuestion.data.question,class:"w-full max-w-2xl mx-auto rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 transition-transform duration-200 group-hover:scale-[1.02]",loading:"lazy"},null,8,ct),s[18]||(s[18]=t("div",{class:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors duration-200 rounded-2xl"},null,-1))])])):b("",!0),o.hasImageInContent?(u(),d("div",gt,[s[20]||(s[20]=t("div",{class:"flex items-center space-x-2 mb-3"},[t("svg",{class:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),t("span",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"题目图片")],-1)),t("div",vt,[t("div",{innerHTML:o.renderMarkdown(o.currentQuestion.body),class:"[&_img]:w-full [&_img]:max-w-2xl [&_img]:mx-auto [&_img]:rounded-2xl [&_img]:shadow-lg [&_img]:border [&_img]:border-gray-200 [&_img]:dark:border-gray-700 [&_img]:transition-transform [&_img]:duration-200 [&_img]:hover:scale-[1.02]"},null,8,ft)])])):b("",!0)]),t("div",mt,[o.currentQuestion.data.type==="single"||o.currentQuestion.data.type==="multiple"?(u(),d("div",bt,[(u(!0),d(Ae,null,Me(o.currentQuestion.data.options,(v,m)=>(u(),d("div",{key:m,onClick:q=>o.selectOption(m),class:_(["p-4 sm:p-6 rounded-2xl border-2 cursor-pointer transition-all duration-200 transform hover:scale-[1.01] hover:shadow-lg",o.getOptionClass(m)])},[t("div",pt,[t("div",{class:_(["w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200",o.getOptionIconClass(m)])},[o.selectedAnswers.includes(m)?(u(),d("div",ht)):b("",!0)],2),t("span",yt,g(String.fromCharCode(65+m))+".",1),t("span",kt,g(v),1)])],10,xt))),128))])):o.currentQuestion.data.type==="judge"?(u(),d("div",wt,[t("button",{onClick:s[0]||(s[0]=v=>o.selectJudgeAnswer(!0)),class:_(["p-6 sm:p-8 rounded-2xl border-2 transition-all duration-200 transform hover:scale-[1.02] hover:shadow-lg",o.getJudgeOptionClass(!0)])},s[22]||(s[22]=[t("div",{class:"flex items-center justify-center space-x-3"},[t("svg",{class:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),t("span",{class:"text-xl font-bold"},"正确")],-1)]),2),t("button",{onClick:s[1]||(s[1]=v=>o.selectJudgeAnswer(!1)),class:_(["p-6 sm:p-8 rounded-2xl border-2 transition-all duration-200 transform hover:scale-[1.02] hover:shadow-lg",o.getJudgeOptionClass(!1)])},s[23]||(s[23]=[t("div",{class:"flex items-center justify-center space-x-3"},[t("svg",{class:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})]),t("span",{class:"text-xl font-bold"},"错误")],-1)]),2)])):b("",!0)])])]),o.showAnswer?(u(),d("div",_t,[t("div",Ct,[t("div",St,[t("div",{class:_(["w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",o.isCorrect?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"])},[o.isCorrect?(u(),d("svg",jt,s[24]||(s[24]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))):(u(),d("svg",At,s[25]||(s[25]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])))],2),t("div",Mt,[t("h3",{class:_(["font-bold text-lg mb-2",o.isCorrect?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400"])},g(o.isCorrect?"回答正确！":"回答错误！"),3),t("p",Qt,[s[26]||(s[26]=t("strong",null,"正确答案：",-1)),ne(g(o.getCorrectAnswerText()),1)]),o.lastAnswerTime?(u(),d("p",Tt,[s[27]||(s[27]=t("strong",null,"答题用时：",-1)),ne(g(o.formatTime(o.lastAnswerTime)),1)])):b("",!0),o.currentQuestion.data.explanation?(u(),d("div",It,[s[28]||(s[28]=t("strong",null,"解析：",-1)),t("div",{innerHTML:o.currentQuestion.data.explanation},null,8,zt)])):b("",!0)])])])])):b("",!0)])):(u(),d("div",Ot,s[29]||(s[29]=[ae('<div class="text-gray-500 dark:text-gray-400" data-v-a01b584c><svg class="w-16 h-16 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-a01b584c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-a01b584c></path></svg><p class="text-xl font-medium mb-2" data-v-a01b584c>暂无题目</p><p class="text-gray-400 dark:text-gray-500" data-v-a01b584c>请稍后再试</p></div>',1)])))]),o.currentQuestion?(u(),d("div",qt,[!o.showAnswer&&o.selectedAnswers.length>0?(u(),d("button",{key:0,onClick:o.checkAnswer,class:"p-4 bg-blue-600 hover:bg-blue-700 text-white rounded-2xl shadow-xl transition-all duration-200 transform hover:scale-105 group",title:"显示答案 (Space)"},s[31]||(s[31]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]))):b("",!0),o.showAnswer?(u(),d("button",{key:1,onClick:o.nextQuestion,class:"p-4 bg-green-600 hover:bg-green-700 text-white rounded-2xl shadow-xl transition-all duration-200 transform hover:scale-105 group",title:"下一题 (Enter)"},s[32]||(s[32]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)]))):b("",!0),t("button",{onClick:o.toggleFavorite,class:_(["p-4 rounded-2xl shadow-xl transition-all duration-200 transform hover:scale-105",o.isFavorited?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-white hover:bg-gray-50 text-gray-600 border border-gray-200"]),title:o.isFavorited?"取消收藏":"收藏题目"},[(u(),d("svg",{class:_(["w-6 h-6",o.isFavorited?"fill-current":"fill-none"]),stroke:"currentColor",viewBox:"0 0 24 24"},s[33]||(s[33]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},null,-1)]),2))],10,Dt),t("button",{onClick:s[2]||(s[2]=v=>o.showStatsModal=!0),class:"p-4 bg-purple-600 hover:bg-purple-700 text-white rounded-2xl shadow-xl transition-all duration-200 transform hover:scale-105",title:"查看统计"},s[34]||(s[34]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)]))])):b("",!0),o.showStatsModal?(u(),d("div",{key:1,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:s[5]||(s[5]=v=>o.showStatsModal=!1)},[t("div",{class:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-md w-full p-6 transform transition-all duration-200",onClick:s[4]||(s[4]=Se(()=>{},["stop"]))},[t("div",Bt,[s[36]||(s[36]=t("h3",{class:"text-xl font-bold text-gray-900 dark:text-white"},"练习统计",-1)),t("button",{onClick:s[3]||(s[3]=v=>o.showStatsModal=!1),class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors"},s[35]||(s[35]=[t("svg",{class:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",Nt,[t("div",Jt,[t("div",Lt,[t("div",Vt,g(o.answeredCount),1),s[37]||(s[37]=t("div",{class:"text-sm text-blue-600/70 dark:text-blue-400/70"},"已答题目",-1))]),t("div",Ft,[t("div",Ht,g(o.correctRate)+"%",1),s[38]||(s[38]=t("div",{class:"text-sm text-green-600/70 dark:text-green-400/70"},"正确率",-1))])]),t("div",Et,[t("div",Rt,[s[39]||(s[39]=t("span",{class:"text-gray-600 dark:text-gray-400"},"正确题目",-1)),t("span",Pt,g(o.correctCount),1)]),t("div",Ut,[s[40]||(s[40]=t("span",{class:"text-gray-600 dark:text-gray-400"},"错误题目",-1)),t("span",Zt,g(o.wrongCount),1)]),t("div",Kt,[s[41]||(s[41]=t("span",{class:"text-gray-600 dark:text-gray-400"},"平均用时",-1)),t("span",Wt,g(o.averageTime),1)]),t("div",Xt,[s[42]||(s[42]=t("span",{class:"text-gray-600 dark:text-gray-400"},"收藏题目",-1)),t("span",Gt,g(o.favoriteCount),1)])]),t("div",{class:"pt-4 border-t border-gray-200 dark:border-gray-700"},[t("button",{onClick:o.resetStats,class:"w-full py-3 px-4 bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 rounded-2xl transition-colors font-medium"}," 重置统计数据 ")])])])])):b("",!0)])}const or=je(Qe,[["render",Yt],["__scopeId","data-v-a01b584c"]]);export{or as default};
