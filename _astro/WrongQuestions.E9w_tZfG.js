import{v as ee,b as te}from"./runtime-dom.esm-bundler.Brv_fg9F.js";import{u as U}from"./useLocalStorage.Hr3vxxp0.js";import{g as K,s as Q,f as re}from"./storage.BTi9KS4P.js";/* empty css                                 */import{_ as ae}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as i,a as e,b as y,e as oe,t as d,d as u,w as P,F as M,g as m,r as F,h as v,o as R,i as X,j as G,k as T,l as g}from"./runtime-core.esm-bundler.BZ9WtKOo.js";const se={__name:"WrongQuestions",props:{allQuestions:{type:Array,required:!0}},setup(V,{expose:r}){r();const z=V,{getItem:t,setItem:_}=U(),l=v({}),o=v("all"),x=v("time"),h=v(t("wrongQuestions_viewMode")||"grid"),L=v(""),D=v(!0),k=v(!1),w=v(null),I=v(""),b=v(new Set),p=v(!1),N=()=>{l.value=K("wrongQuestions",{},"错题记录");let a=!1;Object.keys(l.value).forEach(s=>{l.value[s]&&!l.value[s].timestamp&&(l.value[s].timestamp=Date.now(),a=!0)}),a&&Q("wrongQuestions",l.value)};R(async()=>{try{await X(),N();const a=t("wrongQuestions_viewMode");a&&(h.value=a);const s=t("wrongQuestions_selectedSubject");s&&(o.value=s),D.value=!1}catch(a){console.error("加载错题数据失败:",a),D.value=!1}document.addEventListener("keydown",O)}),G(()=>{document.removeEventListener("keydown",O)});const S=()=>{_("wrongQuestions_viewMode",h.value)},j=()=>{_("wrongQuestions_selectedSubject",o.value)},O=a=>{if(!(a.target.tagName==="INPUT"||a.target.tagName==="TEXTAREA"))switch(a.key){case"1":o.value="subject1",j();break;case"4":o.value="subject4",j();break;case"0":o.value="all",j();break;case"g":h.value="grid",S();break;case"l":h.value="list",S();break;case"s":E();break;case"Escape":k.value?k.value=!1:p.value&&C();break}},B=T(()=>{const a=Object.keys(l.value);let s=z.allQuestions.filter(c=>a.includes(c.slug));if(o.value!=="all"&&(s=s.filter(c=>c.data.subject===o.value)),L.value.trim()){const c=L.value.toLowerCase();s=s.filter(n=>n.data.title.toLowerCase().includes(c)||n.data.tags&&n.data.tags.some(f=>f.toLowerCase().includes(c)))}return s.sort((c,n)=>{switch(x.value){case"time":const f=l.value[n.slug]?.timestamp||0,$=l.value[c.slug]?.timestamp||0;return f-$;case"subject":return c.data.subject.localeCompare(n.data.subject);case"difficulty":const A={easy:1,medium:2,hard:3};return A[c.data.difficulty]-A[n.data.difficulty];default:return 0}}),s}),J=T(()=>Object.values(l.value).filter(a=>a&&a.subject==="subject1").length),Y=T(()=>Object.values(l.value).filter(a=>a&&a.subject==="subject4").length),E=()=>{p.value=!p.value,p.value||b.value.clear()},C=()=>{p.value=!1,b.value.clear()},Z=a=>{b.value.has(a)?b.value.delete(a):b.value.add(a)},q=()=>{b.value.size===B.value.length?b.value.clear():B.value.forEach(a=>{b.value.add(a.slug)})},W=(a,s)=>{I.value=a,w.value=s,k.value=!0},H={props:z,getItem:t,setItem:_,wrongQuestions:l,selectedSubject:o,sortBy:x,viewMode:h,searchKeyword:L,isLoading:D,showConfirmDialog:k,confirmAction:w,confirmMessage:I,selectedQuestions:b,isSelectMode:p,loadWrongQuestions:N,saveViewModePreference:S,saveSubjectPreference:j,handleKeyboardShortcuts:O,wrongQuestionsList:B,subject1Count:J,subject4Count:Y,toggleSelectMode:E,exitSelectMode:C,toggleQuestionSelection:Z,toggleSelectAll:q,showConfirm:W,confirmOperation:()=>{w.value&&w.value(),k.value=!1,w.value=null},cancelOperation:()=>{k.value=!1,w.value=null},navigateToQuestion:(a,s)=>{const c=s.replace(`${a}/`,"");window.location.href=`/${a}/question/${c}`},removeWrongQuestion:a=>{delete l.value[a],b.value.delete(a),Q("wrongQuestions",l.value)},removeSelectedQuestions:()=>{const a=b.value.size;W(`确定要移除选中的 ${a} 道错题吗？此操作不可撤销。`,()=>{b.value.forEach(s=>{delete l.value[s]}),Q("wrongQuestions",l.value),C()})},clearWrongQuestions:(a=null)=>{const s=()=>{a?Object.keys(l.value).forEach(f=>{l.value[f]&&l.value[f].subject===a&&delete l.value[f]}):l.value={},Q("wrongQuestions",l.value),C()},c=a==="subject1"?"科目一":a==="subject4"?"科目四":"所有",n=a?Object.values(l.value).filter(f=>f&&f.subject===a).length:Object.keys(l.value).length;W(`确定要清空${c}的 ${n} 道错题吗？此操作不可撤销。`,s)},updateViewMode:a=>{h.value=a,S()},updateSelectedSubject:a=>{o.value=a,j()},getQuestionTypeText:a=>({single:"单选题",multiple:"多选题",judge:"判断题"})[a]||a,getDifficultyInfo:a=>({easy:{text:"简单",color:"text-green-600",bg:"bg-green-100"},medium:{text:"中等",color:"text-yellow-600",bg:"bg-yellow-100"},hard:{text:"困难",color:"text-red-600",bg:"bg-red-100"}})[a]||{text:a,color:"text-gray-600",bg:"bg-gray-100"},formatWrongTime:a=>{if(!a||isNaN(a))return"刚刚答错";const s=new Date(a);if(isNaN(s.getTime()))return"刚刚答错";const n=new Date-s;return n<6e4?"刚刚":n<36e5?`${Math.floor(n/6e4)}分钟前`:n<864e5?`${Math.floor(n/36e5)}小时前`:n<6048e5?`${Math.floor(n/864e5)}天前`:s.toLocaleDateString()},ref:v,computed:T,onMounted:R,onUnmounted:G,nextTick:X,get useLocalStorage(){return U},get getStorageData(){return K},get setStorageData(){return Q},get filterQuestionsBySubject(){return re}};return Object.defineProperty(H,"__isScriptSetup",{enumerable:!1,value:!0}),H}},le={class:"wrong-questions-container"},de={class:"mb-8 bg-red-500 dark:bg-red-600 rounded-2xl shadow-lg dark:shadow-red-900/20 overflow-hidden"},ne={class:"flex flex-col md:flex-row items-center p-6 md:p-8"},ie={class:"md:w-2/3 text-white mb-6 md:mb-0"},ge={class:"flex flex-wrap gap-3 mt-4"},ce={class:"bg-white bg-opacity-20 rounded-lg px-4 py-2"},ue={class:"text-2xl font-bold text-red-500"},be={class:"bg-white bg-opacity-20 rounded-lg px-4 py-2"},ve={class:"text-2xl font-bold text-red-500"},fe={class:"bg-white bg-opacity-20 rounded-lg px-4 py-2"},xe={class:"text-2xl font-bold text-red-500"},ye={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg dark:shadow-gray-900/20 border border-gray-100 dark:border-gray-700 p-6 mb-8"},me={class:"flex flex-col lg:flex-row gap-6"},he={class:"flex-1"},ke={class:"flex flex-wrap gap-2"},we={class:"flex-1"},pe={class:"relative"},je={class:"flex gap-4"},Qe={class:"flex rounded-lg border border-gray-300 dark:border-gray-600 overflow-hidden"},_e={key:0,class:"mb-6 flex flex-wrap gap-3"},Se=["disabled"],Ce=["disabled"],Me=["disabled"],Te=["disabled"],ze=["disabled"],Le={key:1,class:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl shadow-lg dark:shadow-gray-900/20 border border-gray-100 dark:border-gray-700"},De={class:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto"},Oe={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Be={key:0,class:"absolute top-3 left-3 z-10"},We=["checked","onChange"],Ve={class:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-lg text-xs font-medium"},Ie={class:"font-semibold text-gray-800 dark:text-gray-100 mb-4 line-clamp-3 text-base leading-relaxed"},Ne={class:"flex items-center justify-between mb-4"},Ee={class:"flex items-center gap-2"},He={class:"text-xs text-gray-500 dark:text-gray-400"},Ae={key:1,class:"flex gap-2"},Ue=["onClick"],Ke=["onClick"],Pe={key:3,class:"space-y-4"},Fe={class:"flex items-center justify-between"},Re={key:0,class:"mr-4"},Xe=["checked","onChange"],Ge={class:"flex-1"},Je={class:"flex items-center gap-3 mb-3"},Ye={class:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-lg text-xs font-medium"},Ze={class:"font-semibold text-gray-800 dark:text-gray-100 mb-2 text-lg"},qe={class:"text-sm text-gray-500 dark:text-gray-400"},$e={key:1,class:"flex items-center gap-3 ml-6"},et=["onClick"],tt=["onClick"],rt={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},at={class:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl"},ot={class:"text-gray-600 dark:text-gray-300 mb-6"},st={key:5,class:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-40"};function lt(V,r,z,t,_,l){return g(),i("div",le,[e("header",de,[e("div",ne,[e("div",ie,[r[13]||(r[13]=e("h1",{class:"text-2xl md:text-3xl font-bold mb-3"},"我的错题本",-1)),r[14]||(r[14]=e("p",{class:"text-lg opacity-90 mb-4"},"记录您的错题，帮助您针对性复习，提高答题准确率。",-1)),e("div",ge,[e("div",ce,[e("div",ue,d(Object.keys(t.wrongQuestions).length),1),r[10]||(r[10]=e("div",{class:"text-sm opacity-80 text-red-400"},"总错题",-1))]),e("div",be,[e("div",ve,d(t.subject1Count),1),r[11]||(r[11]=e("div",{class:"text-sm opacity-80 text-red-400"},"科目一",-1))]),e("div",fe,[e("div",xe,d(t.subject4Count),1),r[12]||(r[12]=e("div",{class:"text-sm opacity-80 text-red-400"},"科目四",-1))])])]),r[15]||(r[15]=oe('<div class="md:w-1/3 flex justify-center" data-v-e7da1331><div class="relative" data-v-e7da1331><div class="w-32 h-32 bg-white bg-opacity-20 rounded-full flex items-center justify-center" data-v-e7da1331><svg class="w-16 h-16 text-red-500" fill="currentColor" viewBox="0 0 24 24" data-v-e7da1331><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" data-v-e7da1331></path></svg></div><div class="absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center" data-v-e7da1331><svg class="w-4 h-4 text-yellow-800" fill="currentColor" viewBox="0 0 20 20" data-v-e7da1331><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" data-v-e7da1331></path></svg></div></div></div>',1))])]),e("div",ye,[e("div",me,[e("div",he,[r[16]||(r[16]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"科目筛选",-1)),e("div",ke,[e("button",{onClick:r[0]||(r[0]=o=>t.updateSelectedSubject("all")),class:u(["px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200",t.selectedSubject==="all"?"bg-red-500 dark:bg-red-600 text-white shadow-lg dark:shadow-red-900/20":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])}," 全部 ("+d(Object.keys(t.wrongQuestions).length)+") ",3),e("button",{onClick:r[1]||(r[1]=o=>t.updateSelectedSubject("subject1")),class:u(["px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200",t.selectedSubject==="subject1"?"bg-blue-500 dark:bg-blue-600 text-white shadow-lg dark:shadow-blue-900/20":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])}," 科目一 ("+d(t.subject1Count)+") ",3),e("button",{onClick:r[2]||(r[2]=o=>t.updateSelectedSubject("subject4")),class:u(["px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200",t.selectedSubject==="subject4"?"bg-green-500 dark:bg-green-600 text-white shadow-lg dark:shadow-green-900/20":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])}," 科目四 ("+d(t.subject4Count)+") ",3)])]),e("div",we,[r[18]||(r[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"搜索题目",-1)),e("div",pe,[P(e("input",{"onUpdate:modelValue":r[3]||(r[3]=o=>t.searchKeyword=o),type:"text",placeholder:"搜索题目标题或标签...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400 focus:border-transparent"},null,512),[[ee,t.searchKeyword]]),r[17]||(r[17]=e("svg",{class:"absolute left-3 top-2.5 h-5 w-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),e("div",je,[e("div",null,[r[20]||(r[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"排序",-1)),P(e("select",{"onUpdate:modelValue":r[4]||(r[4]=o=>t.sortBy=o),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400 focus:border-transparent"},r[19]||(r[19]=[e("option",{value:"time"},"错题时间",-1),e("option",{value:"subject"},"科目",-1),e("option",{value:"difficulty"},"难度",-1)]),512),[[te,t.sortBy]])]),e("div",null,[r[23]||(r[23]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"视图",-1)),e("div",Qe,[e("button",{onClick:r[5]||(r[5]=o=>t.updateViewMode("grid")),class:u(["px-3 py-2 text-sm",t.viewMode==="grid"?"bg-red-500 dark:bg-red-600 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"])},r[21]||(r[21]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1)]),2),e("button",{onClick:r[6]||(r[6]=o=>t.updateViewMode("list")),class:u(["px-3 py-2 text-sm",t.viewMode==="list"?"bg-red-500 dark:bg-red-600 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"])},r[22]||(r[22]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1)]),2)])])])])]),Object.keys(t.wrongQuestions).length>0?(g(),i("div",_e,[t.isSelectMode?(g(),i(M,{key:1},[e("button",{onClick:t.toggleSelectAll,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 flex items-center gap-2"},[e("i",{class:u(t.selectedQuestions.size===t.wrongQuestionsList.length?"fas fa-minus-square":"fas fa-check-square")},null,2),m(" "+d(t.selectedQuestions.size===t.wrongQuestionsList.length?"取消全选":"全选"),1)]),e("button",{onClick:t.removeSelectedQuestions,disabled:t.selectedQuestions.size===0,class:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors duration-200 flex items-center gap-2"},[r[25]||(r[25]=e("i",{class:"fas fa-trash"},null,-1)),m(" 移除选中 ("+d(t.selectedQuestions.size)+") ",1)],8,ze),e("button",{onClick:t.exitSelectMode,class:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors duration-200 flex items-center gap-2"},r[26]||(r[26]=[e("i",{class:"fas fa-times"},null,-1),m(" 退出选择 ")]))],64)):(g(),i(M,{key:0},[e("button",{onClick:t.toggleSelectMode,disabled:t.wrongQuestionsList.length===0,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors duration-200 flex items-center gap-2"},r[24]||(r[24]=[e("i",{class:"fas fa-check-square"},null,-1),m(" 批量操作 ")]),8,Se),e("button",{onClick:r[7]||(r[7]=o=>t.clearWrongQuestions("subject1")),disabled:t.subject1Count===0,class:"px-4 py-2 bg-blue-500 dark:bg-blue-600 hover:bg-blue-600 dark:hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors duration-200"}," 清空科目一错题 ",8,Ce),e("button",{onClick:r[8]||(r[8]=o=>t.clearWrongQuestions("subject4")),disabled:t.subject4Count===0,class:"px-4 py-2 bg-orange-500 dark:bg-orange-600 hover:bg-orange-600 dark:hover:bg-orange-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors duration-200"}," 清空科目四错题 ",8,Me),e("button",{onClick:r[9]||(r[9]=o=>t.clearWrongQuestions()),disabled:Object.keys(t.wrongQuestions).length===0,class:"px-4 py-2 bg-red-500 dark:bg-red-600 hover:bg-red-600 dark:hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors duration-200"}," 清空所有错题 ",8,Te)],64))])):y("",!0),t.wrongQuestionsList.length===0?(g(),i("div",Le,[r[27]||(r[27]=e("div",{class:"w-24 h-24 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6"},[e("svg",{class:"w-12 h-12 text-green-500 dark:text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),r[28]||(r[28]=e("h3",{class:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-3"},"太棒了！暂无错题",-1)),e("p",De,d(t.selectedSubject==="all"?"你还没有任何错题，继续保持！":t.selectedSubject==="subject1"?"科目一暂无错题，表现优秀！":"科目四暂无错题，表现优秀！"),1),r[29]||(r[29]=e("div",{class:"flex flex-wrap gap-4 justify-center"},[e("a",{href:"/subject1",class:"bg-blue-500 dark:bg-blue-600 hover:bg-blue-600 dark:hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95"}," 去科目一练题 "),e("a",{href:"/subject4",class:"bg-green-500 dark:bg-green-600 hover:bg-green-600 dark:hover:bg-green-700 text-white font-medium py-3 px-6 rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95"}," 去科目四练题 ")],-1))])):t.viewMode==="grid"?(g(),i("div",Oe,[(g(!0),i(M,null,F(t.wrongQuestionsList,o=>(g(),i("div",{key:o.slug,class:u(["bg-white dark:bg-gray-800 rounded-2xl shadow-lg dark:shadow-gray-900/20 border border-gray-100 dark:border-gray-700 p-6 hover:shadow-xl dark:hover:shadow-gray-900/30 transition-all duration-300 transform hover:scale-105 relative",t.isSelectMode&&t.selectedQuestions.has(o.slug)?"ring-2 ring-blue-500 dark:ring-blue-400":""])},[t.isSelectMode?(g(),i("div",Be,[e("input",{type:"checkbox",checked:t.selectedQuestions.has(o.slug),onChange:x=>t.toggleQuestionSelection(o.slug),class:"w-5 h-5 text-blue-600 bg-white border-2 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,We)])):y("",!0),e("div",{class:u(["flex items-center gap-2 mb-4",t.isSelectMode?"mt-6":""])},[e("span",{class:u(["px-2 py-1 rounded-lg text-xs font-medium",o.data.subject==="subject1"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400"])},d(o.data.subject==="subject1"?"科目一":"科目四"),3),e("span",Ve,d(t.getQuestionTypeText(o.data.type)),1)],2),e("h3",Ie,d(o.data.title),1),e("div",Ne,[e("div",Ee,[e("span",{class:u(["px-2 py-1 rounded-lg text-xs font-medium",t.getDifficultyInfo(o.data.difficulty).bg,t.getDifficultyInfo(o.data.difficulty).color])},d(t.getDifficultyInfo(o.data.difficulty).text),3)]),e("span",He,d(t.formatWrongTime(t.wrongQuestions[o.slug]?.timestamp)),1)]),t.isSelectMode?y("",!0):(g(),i("div",Ae,[e("button",{onClick:x=>t.navigateToQuestion(o.data.subject,o.slug),class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2"},r[30]||(r[30]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),m(" 重新答题 ")]),8,Ue),e("button",{onClick:x=>t.removeWrongQuestion(o.slug),class:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",title:"标记为已掌握"},r[31]||(r[31]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),m(" 已掌握 ")]),8,Ke)]))],2))),128))])):(g(),i("div",Pe,[(g(!0),i(M,null,F(t.wrongQuestionsList,o=>(g(),i("div",{key:o.slug,class:u(["bg-white dark:bg-gray-800 rounded-2xl shadow-lg dark:shadow-gray-900/20 border border-gray-100 dark:border-gray-700 p-6 hover:shadow-xl dark:hover:shadow-gray-900/30 transition-all duration-300 relative",t.isSelectMode&&t.selectedQuestions.has(o.slug)?"ring-2 ring-blue-500 dark:ring-blue-400":""])},[e("div",Fe,[t.isSelectMode?(g(),i("div",Re,[e("input",{type:"checkbox",checked:t.selectedQuestions.has(o.slug),onChange:x=>t.toggleQuestionSelection(o.slug),class:"w-5 h-5 text-blue-600 bg-white border-2 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,Xe)])):y("",!0),e("div",Ge,[e("div",Je,[e("span",{class:u(["px-2 py-1 rounded-lg text-xs font-medium",o.data.subject==="subject1"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400"])},d(o.data.subject==="subject1"?"科目一":"科目四"),3),e("span",{class:u(["px-2 py-1 rounded-lg text-xs font-medium",t.getDifficultyInfo(o.data.difficulty).bg,t.getDifficultyInfo(o.data.difficulty).color])},d(t.getDifficultyInfo(o.data.difficulty).text),3),e("span",Ye,d(t.getQuestionTypeText(o.data.type)),1)]),e("h3",Ze,d(o.data.title),1),e("p",qe," 错题时间："+d(t.formatWrongTime(t.wrongQuestions[o.slug]?.timestamp)),1)]),t.isSelectMode?y("",!0):(g(),i("div",$e,[e("button",{onClick:x=>t.navigateToQuestion(o.data.subject,o.slug),class:"bg-red-500 dark:bg-red-600 hover:bg-red-600 dark:hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center"},r[32]||(r[32]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),m(" 重新答题 ")]),8,et),e("button",{onClick:x=>t.removeWrongQuestion(o.slug),class:"w-10 h-10 bg-green-500 dark:bg-green-600 hover:bg-green-600 dark:hover:bg-green-700 rounded-lg flex items-center justify-center transition-colors duration-200",title:"标记为已掌握"},r[33]||(r[33]=[e("svg",{class:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,tt)]))])],2))),128))])),t.showConfirmDialog?(g(),i("div",rt,[e("div",at,[r[34]||(r[34]=e("div",{class:"flex items-center gap-3 mb-4"},[e("div",{class:"w-10 h-10 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center"},[e("i",{class:"fas fa-exclamation-triangle text-red-600 dark:text-red-400"})]),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"确认操作")],-1)),e("p",ot,d(t.confirmMessage),1),e("div",{class:"flex gap-3 justify-end"},[e("button",{onClick:t.cancelOperation,class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-200"}," 取消 "),e("button",{onClick:t.confirmOperation,class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors duration-200"}," 确认 ")])])])):y("",!0),t.isLoading?(g(),i("div",st,r[35]||(r[35]=[e("div",{class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-2xl"},[e("div",{class:"flex items-center gap-3"},[e("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e("span",{class:"text-gray-700 dark:text-gray-300"},"加载中...")])],-1)]))):y("",!0)])}const Qt=ae(se,[["render",lt],["__scopeId","data-v-e7da1331"]]);export{Qt as default};
